# 제1회 인트로덕션 - 지수분포와 해저드 함수

## 1. Duration 분석이란?

**T**: 시간 간격(지속 시간)을 나타내는 확률변수

| 예시 | T의 의미 |
|---|---|
| 수명 분석 | 사망까지의 시간 |
| 택시 드라이버 | cruising(손님 찾는) 시간 |
| 오퍼레이션 리서치 | 다음 고객 도착까지의 시간 |

---

## 2. 지수분포 (Exponential Distribution)

### 밀도함수 (PDF)
$$f(t) = \lambda e^{-\lambda t}, \quad t \geq 0$$

### 분포함수 (CDF)
$$F(t) = P(T \leq t) = \int_0^t f(s)\,ds = \int_0^t \lambda e^{-\lambda s}\,ds = 1 - e^{-\lambda t}$$

### 생존함수 (Survival Function)
$$S(t) = P(T > t) = 1 - F(t) = e^{-\lambda t}$$

> **S(t)**: "시간 t 이후까지 살아남을(사건이 발생하지 않을) 확률"

---

## 3. 해저드 함수 (Hazard Function) = 위험함수

### 정의
$$h(t) = -\frac{d}{dt}\log S(t) = \frac{f(t)}{S(t)}$$

### 직관적 의미
> "t까지 살아남았다는 조건 하에, **다음 순간** 사건이 발생할 순간 확률"

$$h(t) = \lim_{\Delta t \to 0} \frac{P(t \leq T < t+\Delta t \mid T \geq t)}{\Delta t}$$

### 유도 과정
조건부 확률의 정의:
$$P(t \leq T < t+h \mid T \geq t) = \frac{P(t \leq T < t+h)}{P(T \geq t)} = \frac{F(t+h) - F(t)}{S(t)}$$

h → 0으로 보내면:
$$h(t) = \frac{f(t)}{S(t)}$$

---

## 4. 지수분포의 해저드 함수

$$h(t) = \frac{f(t)}{S(t)} = \frac{\lambda e^{-\lambda t}}{e^{-\lambda t}} = \lambda$$

> **결과**: 해저드 함수가 **상수 λ**

### 무기억성 (Memoryless Property)
$$P(T > t+h \mid T > t) = P(T > h)$$

**의미**: 
- 이미 50세까지 살았더라도, 앞으로 10년 더 살 확률은 태어났을 때와 동일
- 과거가 미래에 영향을 주지 않음

### 일본 국민의 사망률 예시 (V자 형태)
- 실제 인간의 해저드 함수는 상수가 아님
- 유아기: 높음 (영아 사망률)
- 청소년~중년: 낮음
- 노년: 다시 높아짐

---

## 5. 와이블 분포 (Weibull Distribution)

지수분포를 **일반화**한 분포

### 밀도함수
$$f(t) = p\lambda(\lambda t)^{p-1} e^{-(\lambda t)^p}, \quad t \geq 0$$

### 특별한 경우
- **p = 1**: 지수분포와 동일

### 해저드 함수
$$h(t) = p\lambda(\lambda t)^{p-1}$$

| p 값 | 해저드 함수 | 의미 |
|:---:|---|---|
| p = 1 | 상수 λ | 무기억성 (지수분포) |
| p > 1 | 시간에 따라 **증가** | 노화/마모 효과 |
| p < 1 | 시간에 따라 **감소** | 초기 결함 극복 후 안정화 |

---

## 6. 핵심 공식 정리

| 개념 | 공식 |
|---|---|
| 밀도함수 → 분포함수 | $F(t) = \int_0^t f(s)\,ds$ |
| 생존함수 | $S(t) = 1 - F(t) = P(T > t)$ |
| 해저드 함수 | $h(t) = \frac{f(t)}{S(t)} = -\frac{d}{dt}\log S(t)$ |
| 지수분포 E[T] | $E[T] = \frac{1}{\lambda}$ |

---

## 7. 왜 이 내용이 중요한가?

택시 연구 예시와의 연결:

1. **T = cruising 시간**이 지수분포를 따른다고 가정
2. λ가 **드라이버의 기능**에 따라 다름
   - 고기능: λ 큼 → 평균 대기 시간 1/λ 짧음
   - 저기능: λ 작음 → 평균 대기 시간 김
3. AI 내비게이션이 λ를 변화시키는지 분석

> 수리통계의 이론이 **실제 연구**에 어떻게 적용되는지 보여주는 도입부입니다.

---

## 8. Q&A: 자주 헷갈리는 개념들

### Q1. 왜 사건 발생이 지수분포를 따른다고 가정하는가?

**답변: "가장 단순한 가정"이기 때문**

지수분포는 **"무기억성"**을 가진 **유일한** 연속 분포입니다.

```
무기억성 = "과거가 미래에 영향을 주지 않는다"
```

**예시**: 손님 기다리는 상황
- 이미 10분을 기다렸다고 해서, 다음 1분 안에 손님이 올 확률이 변하지 않음
- 방금 시작했든, 1시간을 기다렸든, 다음 순간의 확률은 동일

**현실에서는?**
- 인간 수명: 나이가 들수록 사망 확률 증가 (무기억성 아님)
- 기계 고장: 오래될수록 고장 확률 증가 (마모 효과)

**그럼에도 지수분포로 시작하는 이유:**
1. 수학적으로 가장 다루기 쉬움 (해저드가 상수)
2. 기초 모델로서 다른 분포와 비교 기준이 됨
3. 여기서 확장하여 와이블 등 더 현실적인 모델로 발전

> 💡 물리학에서 "마찰 없는 표면"을 가정하는 것과 비슷. 현실과 다르지만, 기본 원리를 이해하기 위한 출발점.

---

### Q2. CDF와 생존함수의 관계

**CDF (분포함수):**
$$F(t) = P(T \leq t) = \text{"시간 t까지 사건이 발생할 확률"}$$

> ⚠️ "발생하지 않을 확률"이 아니라 **"발생할 확률"**!

**생존함수:**
$$S(t) = 1 - F(t) = P(T > t) = \text{"시간 t까지 사건이 발생하지 않을 확률"}$$

**그림으로 이해:**
```
시간축:  0 ─────────────────── t ─────────────────→
         
         ├──── 이 구간 안에 사건 발생 ────┤
         ↑                              ↑
       시작                             t
         
F(t) = P(T ≤ t) = "0부터 t 사이에 사건이 일어날 확률"
S(t) = P(T > t) = "t 이후에도 아직 사건이 안 일어날 확률"
```

**예시: 전구 수명**
- T = 전구가 고장나는 시간
- F(1000시간) = 0.3 → "1000시간 안에 고장날 확률 30%"
- S(1000시간) = 0.7 → "1000시간까지 살아남을 확률 70%"

---

### Q3. 해저드 함수의 조건부 확률 의미

$$P(t \leq T < t+h \mid T \geq t)$$

| 부분 | 의미 |
|---|---|
| **T ≥ t** (조건) | "시간 t까지 사건이 아직 발생하지 않았다" |
| **t ≤ T < t+h** (사건) | "사건이 t와 t+h 사이에 발생한다" |

**구체적 예시:**
```
t = 5초
h = 0.1초 (아주 작은 시간)

조건: T ≥ 5 → "5초까지 아직 사건이 안 일어났다" (생존해 있음)
사건: 5 ≤ T < 5.1 → "5초에서 5.1초 사이에 사건이 발생한다"
```

**해저드 함수의 핵심 질문:**
> "이미 t까지 살아남은 사람에게, **바로 다음 순간** 위험은 얼마인가?"

**h → 0으로 보내는 이유:**
- h를 0에 가깝게 보내면 → "시점 t에서의 **순간** 위험률"
- 분모에 h를 나누는 이유: h가 0으로 가면 확률도 0으로 가므로, "단위 시간당" 비율로 정규화

$$h(t) = \lim_{h \to 0} \frac{P(t \leq T < t+h \mid T \geq t)}{h}$$
