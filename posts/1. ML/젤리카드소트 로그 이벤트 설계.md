# 배경

하이퍼 캐쥬얼 퍼즐 게임을 만들었는데, 게임을 개선 가능하며, 유저의 로그를 추적할 수 있는 방안으로써, 로그 이벤트를 설계하기로 하였음.

# 목적



흐름을 생각하는 건?
0. 시스템 UX
- session_start : 게임을 시작하였다

1. 게임의 흐름
- Merge : 합체. 이벤트의 종속 파라미터로 level : int.value (1,2,3....) <- 자동으로 합체가 될 수 있도록. 
- Stage_Clear : 이벤트 이름은 스테이지 클리어이지만, 게임의 측면에서는 유저가 레벨업하는 것으로 판단. Merge를 통해 경험치를 획득하고, 경험치가 일정 수준에 도달하면 다음 레벨로 업그레이드.
- Stage_Start : 레벨 업 한 후, 스테이지가 시작 됨. 이거는 Stage_Clear가 된 동시에, 대부분 경우 바로 발생함.
- Deal : 카드를 랜덤으로 분배

[Item]
- Use_Shuffle :
- Use_Hammer :
- Use_Item : 

[Purchase]
- Buy_Item_Gem : 재화(Gem)로 아이템 구매. 파라미터: item_type, cost
- Buy_Item_Ad : 광고 시청으로 아이템 구매. 파라미터: item_type, ad_network, placement

-> 개인적으로 포켓소트를 하면서 느낀점
0. 출시일이 2025년 9월 5일(ios 기준)인데, $467.9천 달러(약 6억 2천만원)의 수익을 기록. 
1. [단점]레벨업의 속도가 느리다. 또한, Sort을 연속적으로 할 경우, combo 기능이 있는데, 사실상 Combo가 발생할 일은 많이 없음. 때문에 게임 자체의 템포가 느리다는 느낌이 있음. 테트리스의 경우, 플레이어가 한 번에 다 터트릴 수 있는 쾌감이 있거나, 그런데, Sort류쪽에서도 쾌감이나 템포를 느낄 수 있는 개선점이 있으면 좋을 것 같음.
2. [장점]Sort의 자동화는 좋은 것 같다. 
3. 
4. [차이점] Deal에서 무지개색깔의 코인이 등장. 
5. [장점] Sort까지 살짝 모자른 코인을, 광고를 보면, 그 Sort 칸의 코인을 채워주는 것이 있음. 
6. [콤보제] Deal과 Deal 사이에 Sort가 된게 하나의 콤보가 됨.
7. 평균 소비 시간 : 일일 17.4분(지난달), 23.57(전체 평균값),. 일일 평균 세션 수 : 3.4회, 세션 평균 지속시간 (4.76분), 하루당 평균 세션 수 : 5.06회, 3.4회(지난 달).
8. ARPDAU 일일 활성 유저당 수익 : $0.5를 벤치마크로. 
9. [인앱 구매] : 인앱구매가 매우 많은 것이 특징. 아이템을 구매할 때, 광고를 보고 구매하는 것과, 게임 내 재화로 구매하는 것이 있음. 어떻게든 수익으로 연결되게끔. 수익화 설계를 굉장히 잘 해놨음.
10. 더이상 게임을 진행할 수 있는 상황도 아니고, 아무런 아이템도 없는 상황이면(아이템을 얻기 위해, 광고 시청도, 아이템 구매도 하지 않을 경우), 목숨을 1개 소모해서, 게임을 재진행할 수 있음.

아이템 명	기간	가격
Mini Gems Pack	일회성	$1.99
Revive bundle	일회성	$5.99
Small Gems Pack	일회성	$7.99
Extended Bundle	일회성	$19.99
Simple Bundle	일회성	$9.99
NoAds	일회성	$6.99
Simple Bundle NoAds	일회성	$9.99
Pick one offer bundle All	일회성	$12.99
Medium Gems Pack	일회성	$14.99
Pick one offer bundle1	일회성	$1.99

10. Day 1 Retention : 34.3%, Day 2 Retention : 27.2%, Day 3 Retention : 21.3%, Day 7 Retention : 10.5%, Day 14 Retention : 7.2%, Day 30 6.6.
-> day 14까지 플레이한 유저들은, 대부분 장기적으로 플레이해줌. 장기적인 관점에서 헤비 유저의 비율이 상당히 높음. -> 후반 레벨로 갈수록, 저레벨 코인이 아닌, 고레벨 코인으로만 플레이하게 됨. 본인이 만들어놓은 것이 있기 때문에, 그만두기가 더 어려워짐. 마치 자신의 코인을 성장한 것 같은 느낌.

2. 광고의 흐름
- 플레이 자체를 막는 광고는 없음. 레벨업을 했다고 해서 광고가 등장하거나 하지는 않음.
- 대신, 유저의 플레이를 도와주기 위한, 아이템 구매를 위한 광고 시청(Inste), 게임 재화 획득을 위한 광고 시청이 있음.

3. 리소스의 흐름

# 리뷰 및 개선 제안 (Action Items)

1. 상세 플레이 데이터 파라미터 (Stage 관련)
- **Stage_Fail 이벤트 추가**
    - 목적: 유저의 실패 및 이탈 지점 파악
    - 파라미터: `stage_level`, `fail_reason` (time_over, no_moves 등), `played_duration`
- **Stage_Clear 파라미터 보강**
    - 목적: 조인 없이 ML 모델 입력 데이터 확보 용이성
    - 파라미터: `duration` (플레이 시간), `move_count` (이동 횟수), `retry_count` (재시도 횟수), `used_items` (사용 아이템 수)

2. 광고 시청 로그 명확화
- 위 `[Purchase]` 항목에 반영된 바와 같이, 광고 보상 구매(`Buy_Item_Ad`)와 재화 구매(`Buy_Item_Gem`)를 분리하여 LTV 계산(Ad LTV vs IAP LTV)을 용이하게 함.

3. 세션 및 몰입도 측정
- 별도의 Heartbeat/Ping 이벤트 없이 기존 `session_start`의 `ga_session_id`, `session_num` 활용.
- **체류 시간(밀도) 계산**: 해당 세션(`ga_session_id`)의 **첫 번째 이벤트와 마지막 이벤트의 타임스탬프 차이**를 이용.

